<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ЁЯЫбя╕П рдПрдбрдорд┐рди рд▓реЙрдЧрд┐рди тАФ ShriVidya System</title>

  <!-- ЁЯМ╕ рдореБрдЦреНрдп рд╢реИрд▓реА -->
  <link rel="stylesheet" href="style/main.css">
  <meta name="theme-color" content="#ffd700">
  <meta name="description" content="ShriVidya App Admin Login тАФ Triple Layer Intelligent Gateway with Sakha & Security Core">

  <style>
    body {
      background: radial-gradient(circle at top, #1a1a1a, #000);
      color: #ffd700;
      text-align: center;
      font-family: 'Noto Sans Devanagari', sans-serif;
      margin: 0;
      padding: 0;
    }
    .login-card {
      margin: 80px auto;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 30px;
      width: 85%;
      max-width: 420px;
      box-shadow: 0 0 25px rgba(255, 215, 0, 0.3);
      backdrop-filter: blur(6px);
    }
    input {
      width: 85%;
      padding: 10px;
      margin: 10px;
      border-radius: 8px;
      border: none;
      outline: none;
      font-size: 1rem;
      text-align: center;
    }
    button {
      padding: 12px 28px;
      font-size: 1rem;
      color: #1a1a1a;
      background: linear-gradient(90deg, #ffb347, #ffd700);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 15px;
      box-shadow: 0 4px 10px rgba(255, 215, 0, 0.3);
    }
    button:hover {
      transform: scale(1.05);
      transition: 0.3s;
    }
  </style>
</head>

<body>
  <header style="margin-top:40px;">
    <h1>ЁЯМ╝ ShriVidya Admin Access Gateway</h1>
    <h3>ЁЯФС Triple Layer Intelligent Security (v10.5AтАвUnified)</h3>
  </header>

  <!-- ЁЯФР рд▓реЙрдЧрд┐рди рдХрд╛рд░реНрдб -->
  <div class="login-card">
    <h2>рдПрдбрдорд┐рди рд▓реЙрдЧрд┐рди</h2>

    <!-- ЁЯФ╣ рдлрд┐рдВрдЧрд░рдкреНрд░рд┐рдВрдЯ рдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб -->
    <input type="password" id="adminPass" placeholder="рдкрд╛рд╕рд╡рд░реНрдб рдпрд╛ Master Key рдбрд╛рд▓реЗрдВ">

    <!-- ЁЯФ╣ рд▓реЙрдЧрд┐рди рдмрдЯрди -->
    <button onclick="initiateAdminLogin()">ЁЯФУ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ</button>

    <!-- ЁЯФ╣ рд╡реИрдХрд▓реНрдкрд┐рдХ OTP рд╕реЗрдХреНрд╢рди -->
    <div id="otpSection" style="display:none;">
      <input type="text" id="otpInput" placeholder="OTP рдбрд╛рд▓реЗрдВ (рдпрджрд┐ рднреЗрдЬрд╛ рдЧрдпрд╛ рд╣реЛ)">
      <button onclick="verifyOTP()">тЬФя╕П OTP рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ</button>
    </div>

    <!-- ЁЯФ╣ рд╕реНрдерд┐рддрд┐ -->
    <p id="login-status">рд╕реНрдерд┐рддрд┐: рдкреНрд░рддреАрдХреНрд╖рд╛ рдореЗрдВ...</p>
  </div>

  <footer style="margin-top:40px; font-size:0.9rem;">
    ┬й 2025 ShriVidya System | Admin Security Portal
  </footer>

  <!-- ЁЯЫбя╕П рд╕реБрд░рдХреНрд╖рд╛ рдирд┐рдпрдВрддреНрд░рдХ -->
  <script src="scripts/securityController.js"></script>

  <!-- ЁЯМ╕ рд╕рдЦрд╛ тАФ Moral Intelligence Core -->
  <script src="scripts/moralCore.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      if (window.Sakha) {
        Sakha.GlobalInit();
        Sakha.linkModule("AdminLogin");
        console.log("ЁЯМ╝ рд╕рдЦрд╛ рдЕрдм AdminLogin рдкреЗрдЬ рд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рд▓рд┐рдВрдХреНрдб рд╣реИред");
      } else {
        console.warn("тЪая╕П рд╕рдЦрд╛ рдЕрднреА рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдирд╣реАрдВ рд╣реБрдЖред");
      }
    });
  </script>

  <!-- ЁЯФС рдПрдбрдорд┐рди рд▓реЙрдЧрд┐рди рд▓реЙрдЬрд┐рдХ -->
  <script>
  async function initiateAdminLogin() {
    const key = document.getElementById("adminPass").value.trim();
    const status = document.getElementById("login-status");

    if (!key) {
      Sakha.speak("рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рдкрд╛рд╕рд╡рд░реНрдб рдбрд╛рд▓реЗрдВред");
      return;
    }

    // ЁЯза рд╕рдЦрд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг
    const allow = Sakha.processAction("admin", "loginAttempt", "AdminPanel");
    if (!allow) {
      status.innerText = "ЁЯЪл рд╕рдЦрд╛ рдиреЗ рд▓реЙрдЧрд┐рди рдкреНрд░рдпрд╛рд╕ рд░реЛрдХрд╛ред";
      return;
    }

    // ЁЯФР рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рд╕рддреНрдпрд╛рдкрди
    const valid = await ShriVidyaSecurity.verifyAccess("admin", key);
    if (valid) {
      status.innerText = "тЬЕ рд▓реЙрдЧрд┐рди рд╕рдлрд▓! рдкреНрд░рд╡реЗрд╢ рдЕрдиреБрдорддред";
      Sakha.speak("рд╕реНрд╡рд╛рдЧрдд рд╣реИ рд╢реНрд░реАрд╡рд┐рджреНрдпрд╛ рдЬреАред рдПрдбрдорд┐рди рдкреИрдирд▓ рдЦреБрд▓ рд░рд╣рд╛ рд╣реИред");
      setTimeout(() => (window.location.href = "admin.html"), 1500);
    } else {
      status.innerText = "тЭМ рдЕрдорд╛рдиреНрдп рдкрд╛рд╕рд╡рд░реНрдб рдпрд╛ рдорд╛рд╕реНрдЯрд░ рдХреАред";
      Sakha.speak("рдЧрд▓рдд рдкрд╛рд╕рд╡рд░реНрдб, рдХреГрдкрдпрд╛ рдкреБрдирдГ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред");
      // OTP рд╕реЗрдХреНрд╢рди рджрд┐рдЦрд╛рдПрдБ
      document.getElementById("otpSection").style.display = "block";
    }
  }

  // ЁЯФ╣ OTP рд╕рддреНрдпрд╛рдкрди
  async function verifyOTP() {
    const otp = document.getElementById("otpInput").value.trim();
    const status = document.getElementById("login-status");
    const result = await ShriVidyaSecurity.verifyOTP(otp);

    if (result) {
      status.innerText = "тЬЕ OTP рд╕рддреНрдпрд╛рдкрди рд╕рдлрд▓!";
      Sakha.speak("рд╕рддреНрдпрд╛рдкрди рд╕рдлрд▓ рд╣реБрдЖ, рд╕реНрд╡рд╛рдЧрдд рд╣реИ рд╢реНрд░реАрд╡рд┐рджреНрдпрд╛ рдЬреАред");
      setTimeout(() => (window.location.href = "admin.html"), 1500);
    } else {
      status.innerText = "ЁЯЪл рдЧрд▓рдд OTP рдпрд╛ рд╕рдордп рд╕рдорд╛рдкреНрдд!";
      Sakha.speak("OTP рд╕рддреНрдпрд╛рдкрди рдЕрд╕рдлрд▓ рд╣реБрдЖред");
    }
  }
  </script>
  <!-- ЁЯМ╕ Sakha GyaanPulse Activation -->
<script src="scripts/gyaanPulse.js"></script>
</body>
</html>
